\q
/q
\q
\dt
CREATE TABLE movies (
  id serial,
  title text,
  duration integer,
  rating varchar(10),
  genre text,
  is_3d boolean NOT NULL,
  released_at timestamp with time zone,
  score numeric(3, 1)
);
\dt
\d movies
\d movies_id_seq
ALTER TABLE movies ADD COLUMN plot text;
\d movies
ALTER TABLE movies RENAME COLUMN plot TO summary;
\d movies
ALTER TABLE movies ALTER COLUMN summary TYPE varchar(255);
\d movies
ALTER TABLE movies ALTER COLUMN summary SET NOT NULL;
\d movies
ALTER TABLE movies DROP COLUMN summary;
\d movies
ALTER TABLE movies RENAME TO films;
\d films
\dt
DROP TABLE films
\dt
DROP TABLE films
\dt
DROP TABLE movies;
DROP TABLE films;
\dt
CREATE TABLE movies (
  id serial,
  title text,
  duration integer,
  rating varchar(10),
  genre text,
  is_3d boolean NOT NULL,
  released_at timestamp with time zone,
  score numeric(3, 1)
);
\q
CREATE TABLE movies (
  id serial,
  title text,
  duration integer,
  rating varchar(10),
  genre text,
  is_3d boolean NOT NULL,
  released_at timestamp with time zone,
  score numeric(3, 1)
);
DROP TABLE
\dt
\q
CREATE TABLE movie_junkies_dev
;
CREATE TABLE movie_junkies_dev;
CREATE TABLE movie_junkies_dev (
id serial,
  title text,
  duration integer,
  rating varchar(10),
  genre text,
  is_3d boolean NOT NULL,
  released_at timestamp with time zone,
  score numeric(3, 1)
);
\q
\dt
DROP TABLE movie_junkies_dev
DROP TABLE movies
\
\q
\dt
DROP TABLE movie_junkies_dev
\dt
\q
\dt
\d movies
INSERT INTO movies (title, duration, rating, genre, is_3d, released_at, score) VALUES ('Frozen', 102, 'PG', 'Animation', TRUE, '2013-11-27 00:00:00 UTC', 7.6);
\d movies
INSERT INTO movies (title, duration, rating, genre, is_3d, released_at, score) VALUES ('X-Men: Apocalypse', 144, 'PG-13', 'Action', TRUE, '2016-05-27 00:00:00 UTC', 7.4);
INSERT INTO movies (title, duration, rating, genre, is_3d, released_at, score) VALUES ('The Princess Bride', 98, 'PG', 'Adventure', FALSE, '1987-10-09 00:00:00 UTC', 8.1);
INSERT INTO movies (title, duration, rating, genre, is_3d, released_at, score) VALUES ('Pulp Fiction', 154, 'R', 'Crime', FALSE, '1994-10-14 00:00:00 UTC', 8.9);
SELECT * FROM movies;
SELECT id, title FROM movies;
SELECT id, title, rating FROM movies WHERE rating = 'PG';
SELECT id, title, rating FROM movies WHERE rating <> 'PG';
SELECT id, title, is_3d FROM movies WHERE is_3d IS TRUE;
SELECT id, title, is_3d FROM movies WHERE is_3d IS FALSE;
SELECT id, title, score FROM movies WHERE score > 8;
SELECT id, title, score FROM movies WHERE score <= 7.5;
SELECT id, title, score FROM movies WHERE score BETWEEN 7.5 AND 8;
SELECT id, title, score, rating FROM movies WHERE score > 8 AND rating = 'PG';
SELECT id, title, score, rating FROM movies WHERE score > 8 OR rating = 'PG';
SELECT id, title, genre FROM movies WHERE genre IN ('Animation', 'Crime');
SELECT id, title, genre FROM movies WHERE genre LIKE 'A%';
SELECT id, title, genre FROM movies WHERE genre LIKE '%e';
SELECT id, title, genre FROM movies WHERE genre LIKE '%i%';
SELECT id, title, genre FROM movies WHERE genre NOT LIKE '%i%';
SELECT id, title, score FROM movies ORDER BY score DESC;
SELECT id, title, score FROM movies ORDER BY score ASC;
SELECT id, title, score FROM movies ORDER BY score DESC LIMIT 1;
SELECT COUNT(*) FROM movies;
SELECT MAX(duration) FROM movies;
SELECT MIN(duration) FROM movies;
SELECT SUM(duration) FROM movies;
SELECT AVG(duration) FROM movies;
UPDATE movies SET score = 9.1 WHERE id = 2;
SELECT id, title, rating, score FROM movies ORDER BY score DESC;
UPDATE movies SET score = score + 0.3 WHERE rating = 'R';
SELECT id, title, rating, score FROM movies ORDER BY score DESC;
UPDATE movies SET score = score - 1.2 WHERE rating = 'PG';
SELECT id, title, rating, score FROM movies ORDER BY score DESC;
DELETE FROM movies WHERE id = 1;
SELECT id, title, rating, score FROM movies ORDER BY score DESC;
DELETE FROM movies WHERE score > 9;
SELECT id, title, rating, score FROM movies ORDER BY score DESC;
\x auto
SELECT id, title, rating, score FROM movies ORDER BY score DESC;
\q
\d places
\di+
\timing on
SELECT COUNT(id) FROM places;
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
CREATE INDEX ON places (parent_id);
\di+
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
SELECT COUNT (id) FROM places WHERE parent_id = 21138;
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
CREATE INDEX ON places (country_code, target_type);
\di+
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE country_code = 'US' AND target_type = 'City';
SELECT COUNT (id) FROM places WHERE canonica_name = 'Seattle, Washington, United States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United
 States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United
 States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United
 States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United
 States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United
 States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United
 States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United
 States';
CREATE UNIQUE INDEX ON places (canonical_name);
\di+
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United States';
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United States';
INSERT INTO places (canonical_names) VALUES ('Seattle,Washington,United States');
DROP INDEX places_canonical_name_idx;
INSERT INTO places (canonical_names) VALUES ('Seattle,Washington,United States');
SELECT COUNT(id) FROM places WHERE canonical_name = 'Seattle,Washington,United States';
DROP INDEX places_country_code_target_type_idx;
SELECT COUNT(id) FROM places WHERE country_code = 'US' AND target_type = 'City';
DROP INDEX places_parent_id_idx;
SELECT COUNT(id) FROM places WHERE parent_id = 21138;
\q
\dt
\dt
\dt
\dt
\dt
\dt
\dt
\dt
\dt
\dt
\dt
\dt
SELECT version();
SELECT id
SELECT current_date;
SELECT id;
SELECT * FROM january_tiles
SELECT 2 + 2;
SELECT * FROM users
select * from 01_users
SELECT * FROM users;
SELECT * FROM blocktypes;
\d blocktypes
SELECT * FROM users
\d
SELECT * From *;
\d
\d SELECT * FROM users
\s users
